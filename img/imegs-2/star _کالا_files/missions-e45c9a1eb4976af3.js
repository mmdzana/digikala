(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8406,2414],{42433:function(e,i,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/digiclub/missions",function(){return s(12408)}])},12408:function(e,i,s){"use strict";s.r(i),s.d(i,{default:function(){return er}});var n=s(2784),a=s(52322),t=s(73739),l=s(47072),r=s(2607),d=s(64665),o=s(24870),c=s(72873),m=s(42306),u=s(41701),x=s(5582),p=s(20804),g=s(77328),_=s(25388),h=s(70582),f=s(79968),v=s(1324);function j(e){var i=e.data||{},s=i.description,n=i.reward,a=i.title,t=i.url,l=i.url_label,r=i.image,d=i.type;return{missionDescription:s,missionImage:(0,h.W)({data:r}),missionReward:n,missionTitle:a,missionUrl:(0,f.f)({data:t}),missionUrlLabel:l,missionType:d}}var b=(0,v.q)({url:"digiclub/missions/",transformer:function(e){var i=e.data||{},s=i.banners,n=i.pending_points,a=i.missions||{},t=a.complete,l=a.incomplete;return{banners:(null==s?void 0:s.map(function(e){return(0,_.C)({data:e})}))||[],pendingPoints:null==n?void 0:n.map(function(e){var i;return{pendingPointId:(i=e||{}).id,pendingPointTitle:i.title,pendingPointPoints:i.points,pendingPointCreatedAt:i.created_at}}),missionsCompleted:null==t?void 0:t.map(function(e){return j({data:e})}),missionsUncompleted:null==l?void 0:l.map(function(e){return j({data:e})})}}}),w=s(47842),N=s(61538),y=s(59437),C=s(57931),M=s(98780),I=s(31909),P=s(45756),T=s(52216),E=s(72677),D=s(90145),R=s(52133),S=s.n(R);function U(e){var i=e.completed,s=void 0!==i&&i,n=e.className,t=e.mission||{},l=t.missionUrl,r=t.missionImage,d=t.missionTitle,o=t.missionReward,c=t.missionUrlLabel,m=t.missionDescription,u=t.missionType,x=(0,N.d)(),p=x.isOpen,g=x.onOpen,_=x.onClose,h={main:(0,E.d)("pos-relative d-flex-lg radius-large border border-200 mb-5 overflow-hidden",S().MissionCard,n),dscription:(0,E.d)("w-full color-700 text-body-2",S().MissionCard__Description),imageContainer:(0,E.d)("d-flex ai-center jc-center bg-000 w-full overflow-hidden",S().MissionCard__ImageContainer),image:(0,E.d)("w-full h-full",(0,w.Z)({},S().MissionCard__ImageCompleted,s)),icon:(0,E.d)("pos-absolute bg-000 radius-circle",S().MissionCard__Icon)};return(0,a.jsxs)("div",{className:h.main,children:[(0,a.jsx)("div",{className:h.imageContainer,children:(0,a.jsx)(I.E,{objectFit:"cover",alt:"missions card",image:r,imageClassName:h.image,className:"w-full h-full"})}),s&&(0,a.jsx)(M.J,{size:40,icon:"active",color:"success",className:h.icon}),(0,a.jsxs)("div",{className:"w-full d-flex flex-column p-4 jc-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"w-full text-body1-strong",children:(0,T.U)(d)}),!!m&&(0,a.jsx)("div",{className:h.dscription,children:(0,T.U)(m)})]}),(0,a.jsxs)("div",{className:"w-full d-flex flex-column flex-row-lg ai-center-lg jc-between-lg mt-2 user-select-none",children:[o>0&&(0,a.jsxs)("div",{className:"d-flex ai-center mb-2 mb-0-lg color-hint-text-caution",children:[(0,a.jsx)(I.E,{width:24,height:24,alt:"دیجی‌کلاب",className:"object-contain ml-2",src:"/statics/img/svg/club-point.svg"}),(0,a.jsx)("div",{className:"text-h4-extra ml-1",children:(0,T.U)(o)}),(0,a.jsx)("span",{className:"text-caption-extra",children:"امتیاز"})]}),!s&&l&&c&&("plus"===u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(D.DigiplusSubscriptionModal,{onCloseModal:_,isOpenModal:p}),(0,a.jsx)(C.z,{mode:"text",removePadding:!0,onClick:g,CROId:P.h.PLUS_CLUB_MISSIONS,children:(0,a.jsxs)("span",{className:"w-full d-flex ai-center jc-end color-secondary-500 text-body-1",children:[c,(0,a.jsx)(M.J,{icon:"chevronLeft",color:"secondary",size:21})]})})]}):(0,a.jsx)(y.e,{href:l,className:"mr-auto",children:(0,a.jsxs)("span",{className:"w-full d-flex ai-center jc-end color-secondary-500 text-body-1",children:[c,(0,a.jsx)(M.J,{icon:"chevronLeft",color:"secondary",size:21})]})}))]})]})]})}var A=s(57394),L=s(46943),O=s(41435),G=(0,v.q)({url:"digiclub/dynamic-daily-mission/",transformer:function(e){var i=e.data||{},s=i.mission_id,n=i.icon,a=i.reward_type,t=i.rewards,l=i.title,r=i.description,d=i.has_participated,o=i.total_reward_value;return{dailyMissionId:s,dailyMissionIcon:(0,h.W)({data:n}),dailyMissionRewardType:a,dailyMissionRewards:(null==t?void 0:t.map(function(e){var i,s,n,a,t,l;return s=(i=e||{}).is_active,n=i.icon,a=i.reward_value,t=i.status,l=i.title,{isRewardActive:!!s,rewardIcon:(0,h.W)({data:n}),rewardValue:a,rewardStatus:t,rewardTitle:l}}))||[],dailyMissionTitle:l,dailyMissionDescription:r,isTodayDailyMissionRewardClaimed:!!d,dailyMissionTotalReward:o}}}),k=s(64177),z=s(99838),F=s.n(z),B={ACTIVE:"active",CLAIMED:"claimed",UNCLAIMED:"unclaimed"};function J(e){var i,s=e.reward||{},n=s.rewardIcon,t=s.rewardTitle,l=s.rewardStatus,r=s.rewardValue,d=(0,k.C)().isDesktop,o=(i={},(0,w.Z)(i,B.ACTIVE,{TITLE:(0,E.d)({"text-h3-extra":d,"text-h5-extra":!d}),CONTAINER:(0,E.d)("border-2",F().dailyMissionRewardItem__activeReward)}),(0,w.Z)(i,B.CLAIMED,{TITLE:(0,E.d)("color-400",{"text-h3":d,"text-h5":!d}),CONTAINER:(0,E.d)("bg-100")}),(0,w.Z)(i,B.UNCLAIMED,{TITLE:(0,E.d)({"text-h3":d,"text-h5":!d}),CONTAINER:(0,E.d)("bg-000 border-200")}),i);return(0,a.jsxs)("div",{className:"d-flex flex-column ai-center",children:[(0,a.jsxs)("div",{className:(0,E.d)(d&&F().dailyMissionRewardItem__item,o[l].CONTAINER,"d-flex flex-column jc-around ai-center radius-md mb-2",{"p-1":!d}),children:[(0,a.jsxs)("div",{className:o[l].TITLE,children:[(0,T.U)(r),"+"]}),(0,a.jsx)(I.E,{width:d?32:20,height:d?32:20,image:n})]}),(0,a.jsx)("p",{className:"text-body-1",children:t})]})}var V=s(99693),W=s.n(V);function Z(e){var i=e.className,s=function(e){d({dailyMissionId:e})},n=(0,c.V)({apiMethod:G}),t=n.data,l=n.reload,r=(0,A.J)({action:L.Am,successCallback:function(){l()}}),d=r.request,o=r.pending,m=t||{},u=m.dailyMissionRewards,x=m.isTodayDailyMissionRewardClaimed,p=m.dailyMissionId,g=m.dailyMissionTotalReward,_=m.dailyMissionTitle,h=m.dailyMissionIcon,f=m.dailyMissionDescription;return p?(0,a.jsxs)("div",{className:(0,E.d)(i,W().dailyMission__dailyMissionWrapper,"user-select-none pos-relative d-flex flex-column p-5 jc-around"),children:[(0,a.jsxs)("div",{className:"d-flex ml-auto mb-10 ai-center",children:[(0,a.jsx)(I.E,{image:h,height:50,width:50}),(0,a.jsx)("div",{className:"text-h5 mr-3",children:_})]}),!(0,O.x)(f)&&(0,a.jsxs)("div",{className:"d-flex flex-row ai-center px-20-lg px-1 mb-4",children:[(0,a.jsx)(M.J,{icon:"infoFill",color:"warning",size:"15"}),(0,a.jsx)("p",{className:"mr-1 text-body-1 color-hint-object-caution",children:f})]}),(0,a.jsx)("div",{className:"d-flex flex-row jc-between ai-center px-20-lg px-1 flex-wrap mb-10",children:null==u?void 0:u.map(function(e){return(0,a.jsx)(J,{reward:e})})}),x?(0,a.jsxs)("div",{className:"d-flex flex-column ai-center",children:[(0,a.jsx)("div",{className:"text-button-1 color-secondary-700",children:"برای دریافت امتیاز بیشتر، ۷ روز متوالی سر بزنید."}),(0,a.jsxs)("div",{className:"p-2 radius-12 color-hint-text-caution bg-000 d-flex ai-center",children:[(0,a.jsx)("span",{className:"ml-1",children:"تاحالا"}),(0,T.U)(g),(0,a.jsx)(M.J,{className:"mx-1",size:20,icon:"/statics/img/svg/club/digiclub-icon.svg"}),(0,a.jsx)("span",{children:"امتیاز گرفته اید!"})]})]}):(0,a.jsx)(C.z,{color:"secondary",className:"w-25-lg w-50 mx-auto",disabled:o,label:"دریافت امتیاز امروز",onClick:function(){s(p)}})]}):null}var q=s(48397),X=s.n(q);function H(e){var i=e.className,s=e.game||{},n=s.url,t=s.imageSrc,l=s.title,r=s.isActive,d=s.description,o={main:(0,E.d)("w-full radius bg-000 border border-200 p-4-lg user-select-none overflow-hidden",X().missionGameCard,i),description:(0,E.d)("w-full text-body-1 mb-2 text-justify",X().missionGameCard__Description),deactiveEnterBtn:(0,E.d)("text-body2-strong color-500 radius-large px-3",X()["missionGameCard__deactive-btn"])};return(0,a.jsxs)("div",{className:o.main,children:[(0,a.jsx)(I.E,{objectFit:"cover",src:t,height:188,alt:"Missions Game Card",className:"radius-medium-lg mb-4-lg min-w-full overflow-hidden",imageClassName:"w-full"}),(0,a.jsxs)("div",{className:"w-full d-flex flex-column color-900 p-4 p-0-lg",children:[(0,a.jsx)("div",{className:"w-full font-bold text-h3 mb-2",children:l}),(0,a.jsx)("div",{className:o.description,children:(0,T.U)(d)}),(0,a.jsx)("div",{className:"w-full d-flex ai-center jc-end",children:r?(0,a.jsx)(y.e,{href:n,mode:"anchor",className:"d-flex ai-center text-button-1 color-secondary-500",children:"ورود به بازی"}):(0,a.jsx)("div",{className:o.deactiveEnterBtn,children:"به زودی"})})]})]})}var K=s(66383),Q=s(43997),Y=s(72610),$=s(11559),ee=s(98634),ei=s(45227),es=(0,v.q)({type:ei.XN.POST,transformer:function(e){var i=e.data;return{digiclubPoints:null==i?void 0:i.digiclub_points}},url:function(e){var i=e.id;return"digiclub/pending-points/".concat(i,"/claim/")}}),en=s(48631),ea=s.n(en);function et(e){var i=e.className,s=e.onGetPoint,t=void 0===s?ee.ZT:s,l=e.pendingPoint,r=l.pendingPointId,d=l.pendingPointTitle,o=l.pendingPointPoints,c=l.pendingPointCreatedAt,m=(0,K.Z)((0,n.useState)(!1),2),u=m[0],x=m[1],p=(0,$.E)({apiMethod:es}),g=p.request,_=p.pending,h=(0,Q.I0)(),f=(0,E.d)("user-select-none d-flex ai-start ai-center-lg jc-between flex-column flex-row-lg p-3 p-4-lg radius-large mb-5",{"d-none":u},ea().PendingPointCard,i);return(0,a.jsxs)("div",{className:f,children:[(0,a.jsxs)("div",{className:"d-flex ai-center flex-column flex-row-lg",children:[(0,a.jsxs)("div",{className:"d-flex ai-center",children:[(0,a.jsx)(M.J,{icon:"active",size:32,color:"success"}),(0,a.jsx)("div",{className:"text-body1-strong mr-2 mr-3-lg color-800",children:(0,T.U)(d)})]}),(0,a.jsxs)("div",{className:"color-500 mr-6-lg text-caption",children:["انجام شده در ",(0,T.U)(c)]})]}),u?(0,a.jsx)("div",{className:(0,E.d)("w-full w-unset-lg mt-4 mt-0-lg jc-center d-flex ai-center text-body2-strong color-400 radius py-2",ea().PendingPointCard__button),children:"دریافت شده"}):(0,a.jsx)("button",{className:(0,E.d)("w-full w-unset-lg mt-4 mt-0-lg jc-center d-flex ai-center text-body2-strong bg-secondary-700 color-000 radius py-2",ea().PendingPointCard__button),onClick:function(){g({id:r}).then(function(e){h((0,L.Sz)(e)),x(!0),t()})},children:_?(0,a.jsx)(Y.g,{color:"white",width:30}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(I.E,{width:24,height:24,alt:"دیجی‌کلاب",className:"ml-2",src:"/statics/img/svg/club-point.svg"}),"دریافت ",(0,T.U)(o)," امتیاز"]})})]})}var el=[{imageSrc:"/statics/img/png/digiclub/missonsBanner/digipoly.jpg",isActive:!0,title:"بازی دیجی‌پلی",url:"/digiclub/game-center/digipoly/",description:"توی این بازی هرچی بیشتر تاس بندازی جایزه‌های بیشتری می‌بری و شانست هم برای رسیدن به گاوصندوق و جایزه‌ی بزرگ زیادتر میشه"},{imageSrc:"/statics/img/png/digiclub/missonsBanner/wheel-spinner.png",isActive:!0,title:"چرخ و بخت",url:"https://games.digikala.com/digiclub/wheel-spinner",description:"چرخ و بخت هر ماه یک عالمه برنده و جوایز ویژه داره. فقط کافیه هر روز شانست رو امتحان کنی و گردونه رو بچرخونی."},{imageSrc:"/statics/img/png/digiclub/missonsBanner/seedling-hope.png",isActive:!0,title:"به خاطر بلوط‌ها",url:"/digiclub/game-center/seedling-hope/",description:"به‌خاطر بلوط‌ها فرصتیه که از زمین نگهبانی کنی، در جلوگیری از نابودی هزاران درخت بلوط سهیم بشی و طبیعت رو در امان نگه داری."}],er=(0,u.D)({component:function(){var e,i=(0,c.V)({apiMethod:b}),s=i.data,n=i.reload,u=s||{},_=u.banners,h=u.missionsCompleted,f=u.missionsUncompleted,v=u.pendingPoints;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.Z,{isDesktopFixed:!0,isStatic:!0,children:(0,a.jsx)(p.h,{activeKey:o.H.MISSIONS})}),(0,m.d)(d.X.EXPIRING_CLUB_POINTS)&&(0,a.jsx)(x.a,{}),(0,a.jsx)(g.Y,{isWideSlide:!0,items:_,autoplay:{delay:5e3},className:"w-full px-3 px-0-lg mb-10"}),(0,a.jsxs)("div",{className:"mx-auto px-4 px-0-2xl",children:[v&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.D,{withLine:!0,color:"blue",className:"mb-5 mt-10",title:"جایزه های شما",titleClassName:"text-h3"}),(0,a.jsx)(t.k,{color:"yellow",mode:"normal",className:"mb-5 select-none",icon:"infoOutline",children:"اعتبار جایزه هر ماموریت تنها ۷ روز پس از انجام آن می‌باشد پس زودتر جایزه ها را دریافت کنید."}),null==v?void 0:v.map(function(i,s){return(0,a.jsx)(et,{pendingPoint:i,onGetPoint:n},"".concat(null!==(e=i.pendingPointId)&&void 0!==e?e:s))})]}),(0,a.jsx)(Z,{}),(0,a.jsx)(l.D,{withLine:!0,color:"blue",className:"mb-5",title:"ماموریت‌ها",titleClassName:"text-h3"}),null==f?void 0:f.map(function(e,i){return(0,a.jsx)(U,{mission:e},i)}),h&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.D,{withLine:!0,color:"blue",className:"mb-5",titleClassName:"text-h3",title:"ماموریت‌های کامل شده"}),null==h?void 0:h.map(function(e,i){return(0,a.jsx)(U,{completed:!0,mission:e},i)})]}),!(0,m.d)(d.X.DIGICLUB_GAME_NET_TEST_PRODUCTION)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.D,{withLine:!0,color:"blue",className:"mb-5",title:"دنیای بازی",titleClassName:"text-h3"}),(0,a.jsx)("div",{id:"GAMES",className:"d-grid-lg grid-cols-3 gap-6-lg",children:el.map(function(e,i){return(0,a.jsx)(H,{game:e,className:"mb-4"},i)})})]})]})]})},layoutProps:{desktopContentWidth:"lg",chatKey:"digiclub"}})},52133:function(e){e.exports={MissionCard__ImageContainer:"styles_MissionCard__ImageContainer__QH9t7",MissionCard__ImageCompleted:"styles_MissionCard__ImageCompleted__tbbzv",MissionCard__Icon:"styles_MissionCard__Icon__OQM2V",MissionCard__Description:"styles_MissionCard__Description__x58la"}},99838:function(e){e.exports={dailyMissionRewardItem__item:"styles_dailyMissionRewardItem__item__52fIS",dailyMissionRewardItem__activeReward:"styles_dailyMissionRewardItem__activeReward__1BqVm"}},99693:function(e){e.exports={dailyMission__dailyMissionWrapper:"styles_dailyMission__dailyMissionWrapper__Up7ta"}},48397:function(e){e.exports={missionGameCard:"styles_missionGameCard__DtINJ","missionGameCard__deactive-btn":"styles_missionGameCard__deactive-btn__3cC6a",missionGameCard__Description:"styles_missionGameCard__Description__zjvv2"}},48631:function(e){e.exports={PendingPointCard:"styles_PendingPointCard__r54JM",PendingPointCard__button:"styles_PendingPointCard__button__c3Mf6"}}},function(e){e.O(0,[4760,5399,9774,2888,179],function(){return e(e.s=42433)}),_N_E=e.O()}]);