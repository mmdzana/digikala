(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[255],{70255:function(e,n,t){"use strict";t.d(n,{gi:function(){return j},Ej:function(){return y},z:function(){return w},bC:function(){return B}});var o=t(66383),r=t(52322),u=t(2784),i=t(59218),c=t(70865),s=t(96670),l=t(26297),a=t(50930),f=t(98634),d=t(50020);function p(e){var n=e.context,t=e.children,o=e.items,i=e.setItems,p=(0,u.useCallback)(function(e){var n=e.element,t=e.index,o=(0,l.Z)(e,["element","index"]);n&&i(function(e){var r;if((0,d.k)(t)){if(0===e.length)r=[(0,s.Z)((0,c.Z)({},o),{element:n,index:0})];else if(e.find(function(e){return e.element===n}))r=e;else{var u=e.findIndex(function(e){return!!e.element&&!!n&&(0,f.fQ)(e.element.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_PRECEDING)}),i=(0,s.Z)((0,c.Z)({},o),{element:n,index:u});r=-1===u?(0,a.Z)(e).concat([i]):(0,a.Z)(e.slice(0,u)).concat([i],(0,a.Z)(e.slice(u)))}}else r=(0,a.Z)(e).concat([(0,s.Z)((0,c.Z)({},o),{element:n,index:t})]);return r.map(function(e,n){return(0,s.Z)((0,c.Z)({},e),{index:n})})})},[]),v=(0,u.useCallback)(function(e){e&&i(function(n){return n.filter(function(n){return e!==n.element})})},[]),m=(0,u.useMemo)(function(){return{items:o,setItem:p,removeItem:v}},[o,p,v]);return(0,r.jsx)(n.Provider,{value:m,children:t})}var v=t(99965),m=t(47842),h=t(39276);function x(e){var n=e.eventHandler,t=e.wrapFunction;return function(e){if(null==n||n(e),!e.defaultPrevented)return t(e)}}var g=t(72677),b=t(33468),I=t.n(b),Z=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,f.o8)(e,(0,c.Z)({items:[],setItem:f.ZT,removeItem:f.ZT},n))}("SelectorMenuItemContext",{});function w(e){var n,t,o,i,f,d,p,b,w,y,C,k=e.onClick,M=e.disabled,R=e.hasHover,S=e.shouldAutoFocus,N=void 0===S||S,E=e.className,O=(0,l.Z)(e,["onClick","disabled","hasHover","shouldAutoFocus","className"]),T=(0,u.useRef)(null),B=(0,u.useContext)(v.i),j=B.focusedIndex,F=B.setFocusedIndex,A=(0,u.useContext)(v.i).setIsOpen,z=(n={element:T.current,disabled:M},o=(0,h.N)(),f=(i=(0,u.useContext)(Z)).setItem,d=i.removeItem,p=i.items,b=null!=t?t:p.findIndex(function(e){return e.element===n.element}),w=(0,u.useRef)(null),(0,u.useEffect)(function(){w.current=p},[p]),y=w.current,C=p.some(function(e,n){var t;return e.element!==(null==y?void 0:null===(t=y[n])||void 0===t?void 0:t.element)}),(0,u.useLayoutEffect)(function(){return n.element||o(),f((0,s.Z)((0,c.Z)({},n),{index:b})),function(){return d(n.element)}},[o,b,f,C,d].concat((0,a.Z)(Object.values(n)))),b),D=(0,g.d)("d-block px-5 py-2 w-full",(0,m.Z)({disabled:M},I().SelectorMenuItem,void 0===R||R),E);(0,u.useLayoutEffect)(function(){if(z===j&&N){var e;null===(e=T.current)||void 0===e||e.focus()}},[z,j,N]);var L=M?void 0:x({eventHandler:k,wrapFunction:function(){A(!1)}});return(0,r.jsx)("button",(0,s.Z)((0,c.Z)({},O),{type:"button",onClick:L,ref:T,onFocus:function(){-1!==z&&F(z)},className:D}))}function y(e){var n=e.onMouseUp,t=e.onClick,o=e.className,i=(0,l.Z)(e,["onMouseUp","onClick","className"]),a=(0,u.useContext)(v.i),f=a.isOpen,d=a.setIsOpen,p=a.SelectorMenuButtonRef,m=x({eventHandler:n,wrapFunction:function(e){e.stopPropagation()}}),h=x({eventHandler:t,wrapFunction:function(){d(!f)}});return(0,r.jsx)("button",(0,s.Z)((0,c.Z)({},i),{className:o,type:"button",onMouseUp:m,onClick:h,ref:p}))}i.yG&&(w.displayName="SelectorMenuItem"),i.yG&&(y.displayName="SelectorMenuButton");var C=t(88885),k=t(4073),M=t(14095),R=t(23194),S=t(64177),N=t(62726),E=t(43997),O=t(80786),T={ArrowDown:"ArrowDown",ArrowUp:"ArrowUp"};function B(e){var n,t,i,a,f,p,m,h,x,g,b,I,w=e.hasCloseButtonInBottomSheet,y=e.id,B=e.children,j=e.isInModal,F=e.popoverClassName,A=e.menuSetToRight,z=e.appTopBarTitle,D=(0,l.Z)(e,["hasCloseButtonInBottomSheet","id","children","isInModal","popoverClassName","menuSetToRight","appTopBarTitle"]),L=(0,u.useContext)(v.i),P=L.SelectorMenuButtonRef,U=L.isOpen,_=L.focusedIndex,H=L.setFocusedIndex,G=L.setIsOpen,K=(n={currentIndex:_,filter:function(e){return e.disabled},callback:function(e){H(e)},itemKey:"index"},t=(0,u.useContext)(Z).items,i=n.callback,a=n.currentIndex,f=n.filter,p=n.itemKey,m=null!=a?a:-1,function(e){if(Object.keys(T).includes(e.key)){var n,o=f?t.filter(f):t;if(f&&(m=o.findIndex(function(e){return e.index===a})),0!==o.length){e.preventDefault();var r={ArrowDown:function(){var e=o[(m+1)%o.length];i((0,d.k)(p)?e:e[p])},ArrowUp:function(){var e=o[(m+o.length-1)%o.length];i((0,d.k)(p)?e:e[p])}};null===(n=r[e.key])||void 0===n||n.call(r)}}}),X=(0,u.useRef)(),Y=(0,S.C)().isDesktop,q=function(){return G(!1)};(0,C.t$)({targetRef:X,handler:q});var Q=(h=(0,E.v9)(O.b.latestOpenModalZIndex),x=(0,E.I0)(),b=(g=(0,o.Z)((0,u.useState)(4),2))[0],I=g[1],(0,u.useEffect)(function(){if(U){var e=h+1;x((0,N.is)(e)),I(e)}},[U]),{zIndex:b}).zIndex;return U?Y?(0,r.jsx)(M.X,(0,s.Z)((0,c.Z)({isInModal:j,menuSetToRight:A,className:F,onKeyDown:K,onMouseUp:function(e){e.stopPropagation()},positionCalculator:R.i,targetRef:P},D),{style:{zIndex:Q},children:(0,r.jsx)("div",{ref:X,className:"py-2 d-flex flex-column bg-000 radius shadow-fab-button overflow-hidden focus:none",children:B})})):(0,r.jsx)(k.R1,(0,s.Z)((0,c.Z)((0,s.Z)((0,c.Z)({appTopBarTitle:z,isOpen:U},D),{contentClassName:"py-2",onClose:q}),void 0!==w&&w&&{hasAppTopBar:!0,appTopBarLeftSideFirstIcon:"close",appTopBarLeftSideFirstIconOnClick:q}),{reactResizeDetectorProps:{refreshMode:"debounce",refreshRate:0},style:{zIndex:Q},children:(0,r.jsx)("div",{id:y,ref:X,children:B})})):null}function j(e){var n=e.children,t=(0,u.useRef)(null),i=(0,o.Z)((0,u.useState)(!1),2),c=i[0],s=i[1],l=(0,o.Z)((0,u.useState)([]),2),a=l[0],f=l[1],d=(0,o.Z)((0,u.useState)(0),2),m=d[0],h=d[1],x=(0,u.useCallback)(function(){s(!1)},[s]),g=(0,u.useCallback)(function(e){"Escape"===e.key&&x()},[x]);return(0,u.useEffect)(function(){return c&&window.addEventListener("keydown",g),function(){c&&window.removeEventListener("keydown",g)}},[c,x,g]),(0,r.jsx)(p,{context:Z,items:a,setItems:f,children:(0,r.jsx)(v.i.Provider,{value:{isOpen:c,setIsOpen:s,SelectorMenuButtonRef:t,focusedIndex:m,setFocusedIndex:h},children:(0,r.jsx)("div",{children:n})})})}i.yG&&(B.displayName="SelectorMenuList"),i.yG&&(j.displayName="SelectorMenu")},99965:function(e,n,t){"use strict";t.d(n,{i:function(){return u}});var o=t(2784),r=t(98634),u=(0,o.createContext)({isOpen:!1,setIsOpen:r.ZT,SelectorMenuButtonRef:{current:null},focusedIndex:0,setFocusedIndex:r.ZT})},39276:function(e,n,t){"use strict";t.d(n,{N:function(){return o.N}});var o=t(62615)},14095:function(e,n,t){"use strict";t.d(n,{X:function(){return h}});var o,r=t(70865),u=t(96670),i=t(52322),c=t(2784),s=t(92625),l=t(26297),a=t(30952),f=t(66383),d=["bottom","height","left","right","top","width"],p=new Map;function v(e){var n=!(arguments.length>1)||void 0===arguments[1]||arguments[1],t=(0,f.Z)((0,c.useState)(e.current),2),r=t[0],u=t[1],i=(0,c.useRef)(!1),s=(0,c.useRef)(!1),l=(0,f.Z)((0,c.useState)(null),2),a=l[0],v=l[1];return(0,c.useLayoutEffect)(function(){e.current!==r&&u(e.current)},[e,r]),(0,c.useLayoutEffect)(function(){var t,u=function(){null==i||i()},i=null,c=r;return s.current||(s.current=!0,c=e.current),c&&n&&(i=(t=c,{subscribe:function(e){var n,r=p.size;return p.has(t)?null===(n=p.get(t))||void 0===n||n.observers.push(e):p.set(t,{rect:void 0,observers:[e]}),0===r&&function e(){var n=[];p.forEach(function(e,t){var o=t.getBoundingClientRect();(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d.some(function(t){return e[t]!==n[t]})})(o,e.rect)&&(e.rect=o,n.push(e))}),n.forEach(function(e){e.observers.forEach(function(n){return n(e.rect)})}),o=window.requestAnimationFrame(e)}(),{unsubscribe:function(){var n=p.get(t);n&&(n.observers=n.observers.filter(function(n){return n!==e}),0===n.observers.length&&p.delete(t),0===p.size&&cancelAnimationFrame(o))}}}}).subscribe(v).unsubscribe),u},[n,r,e]),(0,c.useLayoutEffect)(function(){r&&!i.current&&(i.current=!0,v(r.getBoundingClientRect()))},[r]),a}var m=(0,c.forwardRef)(function(e,n){var t=e.targetRef,o=e.positionCalculator,s=e.className,f=e.isInModal,d=e.menuSetToRight,p=(0,l.Z)(e,["targetRef","positionCalculator","className","isInModal","menuSetToRight"]),m=(0,c.useRef)(null),h=v(m),x=v(t),g=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return(0,c.useMemo)(function(){return n.every(function(e){return null==e})?null:function(e){n.forEach(function(n){!function(e,n){if(null!=e){if((0,a.mf)(e))e(n);else try{e.current=n}catch(t){throw Error('Cannot assign value "'.concat(n,'" to ref "').concat(e,'"'))}}}(n,e)})}},[n])}(m,n),b=(0,a.dh)("p-2 z-3 pos-absolute",{"z-3":!f,"z-4":f},s);return(0,i.jsx)("div",(0,u.Z)((0,r.Z)({ref:g},p),{style:(0,r.Z)({},h?o(x,h,d):{visibility:"d-none"},p.style),className:b}))}),h=(0,c.forwardRef)(function(e,n){return(0,i.jsx)(s.h,{elementType:"dk-popover",children:(0,i.jsx)(m,(0,u.Z)((0,r.Z)({},e),{ref:n}))})})},23194:function(e,n,t){"use strict";t.d(n,{i:function(){return i}});var o=t(70865),r=t(30952);function u(e,n){var t={top:e.top-n.height<0,bottom:window.innerHeight<e.bottom+n.height,right:window.innerWidth<e.left+n.width,left:e.left+e.width-n.width<0};return{right:t.right&&!t.left,left:t.left&&!t.right,bottom:t.bottom&&!t.top,top:t.top&&!t.bottom}}function i(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,r.kK)(e)||(0,r.kK)(n)?{}:(0,o.Z)({},function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{left:u(e,n).right||t?"".concat(e.right-n.width+window.pageXOffset,"px"):"".concat(e.left+window.pageXOffset,"px")}}(e,n,t),{top:u(e,n).bottom?"".concat(e.top-n.height+window.pageYOffset,"px"):"".concat(e.top+e.height+window.pageYOffset,"px")})}},33468:function(e){e.exports={SelectorMenuItem:"styles_SelectorMenuItem__Uiv1M"}}}]);