(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[255],{70255:function(e,t,n){"use strict";n.d(t,{gi:function(){return j},Ej:function(){return y},z:function(){return I},bC:function(){return B}});var o=n(66383),r=n(52322),u=n(2784),i=n(59218),c=n(70865),s=n(96670),l=n(26297),a=n(50930),f=n(98634),d=n(50020);function p(e){var t=e.context,n=e.children,o=e.items,i=e.setItems,p=(0,u.useCallback)(function(e){var t=e.element,n=e.index,o=(0,l.Z)(e,["element","index"]);t&&i(function(e){var r;if((0,d.k)(n)){if(0===e.length)r=[(0,s.Z)((0,c.Z)({},o),{element:t,index:0})];else if(e.find(function(e){return e.element===t}))r=e;else{var u=e.findIndex(function(e){return!!e.element&&!!t&&(0,f.fQ)(e.element.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING)}),i=(0,s.Z)((0,c.Z)({},o),{element:t,index:u});r=-1===u?(0,a.Z)(e).concat([i]):(0,a.Z)(e.slice(0,u)).concat([i],(0,a.Z)(e.slice(u)))}}else r=(0,a.Z)(e).concat([(0,s.Z)((0,c.Z)({},o),{element:t,index:n})]);return r.map(function(e,t){return(0,s.Z)((0,c.Z)({},e),{index:t})})})},[]),v=(0,u.useCallback)(function(e){e&&i(function(t){return t.filter(function(t){return e!==t.element})})},[]),m=(0,u.useMemo)(function(){return{items:o,setItem:p,removeItem:v}},[o,p,v]);return(0,r.jsx)(t.Provider,{value:m,children:n})}var v=n(99965),m=n(47842),h=n(39276);function x(e){var t=e.eventHandler,n=e.wrapFunction;return function(e){if(null==t||t(e),!e.defaultPrevented)return n(e)}}var g=n(72677),b=n(33468),Z=n.n(b),w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,f.o8)(e,(0,c.Z)({items:[],setItem:f.ZT,removeItem:f.ZT},t))}("SelectorMenuItemContext",{});function I(e){var t,n,o,i,f,d,p,b,I,y,C,k=e.onClick,R=e.disabled,S=e.hasHover,N=e.shouldAutoFocus,M=void 0===N||N,E=e.className,O=(0,l.Z)(e,["onClick","disabled","hasHover","shouldAutoFocus","className"]),T=(0,u.useRef)(null),B=(0,u.useContext)(v.i),j=B.focusedIndex,F=B.setFocusedIndex,A=(0,u.useContext)(v.i).setIsOpen,D=(t={element:T.current,disabled:R},o=(0,h.N)(),f=(i=(0,u.useContext)(w)).setItem,d=i.removeItem,p=i.items,b=null!=n?n:p.findIndex(function(e){return e.element===t.element}),I=(0,u.useRef)(null),(0,u.useEffect)(function(){I.current=p},[p]),y=I.current,C=p.some(function(e,t){var n;return e.element!==(null==y?void 0:null===(n=y[t])||void 0===n?void 0:n.element)}),(0,u.useLayoutEffect)(function(){return t.element||o(),f((0,s.Z)((0,c.Z)({},t),{index:b})),function(){return d(t.element)}},[o,b,f,C,d].concat((0,a.Z)(Object.values(t)))),b),L=(0,g.d)("d-block px-5 py-2 w-full",(0,m.Z)({disabled:R},Z().SelectorMenuItem,void 0===S||S),E);(0,u.useLayoutEffect)(function(){if(D===j&&M){var e;null===(e=T.current)||void 0===e||e.focus()}},[D,j,M]);var z=R?void 0:x({eventHandler:k,wrapFunction:function(){A(!1)}});return(0,r.jsx)("button",(0,s.Z)((0,c.Z)({},O),{type:"button",onClick:z,ref:T,onFocus:function(){-1!==D&&F(D)},className:L}))}function y(e){var t=e.onMouseUp,n=e.onClick,o=e.className,i=(0,l.Z)(e,["onMouseUp","onClick","className"]),a=(0,u.useContext)(v.i),f=a.isOpen,d=a.setIsOpen,p=a.SelectorMenuButtonRef,m=x({eventHandler:t,wrapFunction:function(e){e.stopPropagation()}}),h=x({eventHandler:n,wrapFunction:function(){d(!f)}});return(0,r.jsx)("button",(0,s.Z)((0,c.Z)({},i),{className:o,type:"button",onMouseUp:m,onClick:h,ref:p}))}i.yG&&(I.displayName="SelectorMenuItem"),i.yG&&(y.displayName="SelectorMenuButton");var C=n(88885),k=n(4073),R=n(14095),S=n(23194),N=n(64177),M=n(62726),E=n(43997),O=n(80786),T={ArrowDown:"ArrowDown",ArrowUp:"ArrowUp"};function B(e){var t,n,i,a,f,p,m,h,x,g,b,Z,I=e.hasCloseButtonInBottomSheet,y=e.id,B=e.children,j=e.popoverClassName,F=e.menuSetToRight,A=e.appTopBarTitle,D=(0,l.Z)(e,["hasCloseButtonInBottomSheet","id","children","popoverClassName","menuSetToRight","appTopBarTitle"]),L=(0,u.useContext)(v.i),z=L.SelectorMenuButtonRef,P=L.isOpen,U=L.focusedIndex,_=L.setFocusedIndex,H=L.setIsOpen,G=(t={currentIndex:U,filter:function(e){return e.disabled},callback:function(e){_(e)},itemKey:"index"},n=(0,u.useContext)(w).items,i=t.callback,a=t.currentIndex,f=t.filter,p=t.itemKey,m=null!=a?a:-1,function(e){if(Object.keys(T).includes(e.key)){var t,o=f?n.filter(f):n;if(f&&(m=o.findIndex(function(e){return e.index===a})),0!==o.length){e.preventDefault();var r={ArrowDown:function(){var e=o[(m+1)%o.length];i((0,d.k)(p)?e:e[p])},ArrowUp:function(){var e=o[(m+o.length-1)%o.length];i((0,d.k)(p)?e:e[p])}};null===(t=r[e.key])||void 0===t||t.call(r)}}}),K=(0,u.useRef)(),X=(0,N.C)().isDesktop,Y=function(){return H(!1)};(0,C.t$)({targetRef:K,handler:Y});var q=(h=(0,E.v9)(O.b.latestOpenModalZIndex),x=(0,E.I0)(),b=(g=(0,o.Z)((0,u.useState)(4),2))[0],Z=g[1],(0,u.useEffect)(function(){if(P){var e=h+1;x((0,M.is)(e)),Z(e)}},[P]),{zIndex:b}).zIndex;return P?X?(0,r.jsx)(R.X,(0,s.Z)((0,c.Z)({menuSetToRight:F,className:j,onKeyDown:G,onMouseUp:function(e){e.stopPropagation()},positionCalculator:S.i,targetRef:z},D),{style:{zIndex:q},children:(0,r.jsx)("div",{ref:K,className:"py-2 d-flex flex-column bg-000 radius shadow-fab-button overflow-hidden focus:none",children:B})})):(0,r.jsx)(k.R1,(0,s.Z)((0,c.Z)((0,s.Z)((0,c.Z)({appTopBarTitle:A,isOpen:P},D),{contentClassName:"py-2",onClose:Y}),void 0!==I&&I&&{hasAppTopBar:!0,appTopBarLeftSideFirstIcon:"close",appTopBarLeftSideFirstIconOnClick:Y}),{reactResizeDetectorProps:{refreshMode:"debounce",refreshRate:0},style:{zIndex:q},children:(0,r.jsx)("div",{id:y,ref:K,children:B})})):null}function j(e){var t=e.children,n=(0,u.useRef)(null),i=(0,o.Z)((0,u.useState)(!1),2),c=i[0],s=i[1],l=(0,o.Z)((0,u.useState)([]),2),a=l[0],f=l[1],d=(0,o.Z)((0,u.useState)(0),2),m=d[0],h=d[1],x=(0,u.useCallback)(function(){s(!1)},[s]),g=(0,u.useCallback)(function(e){"Escape"===e.key&&x()},[x]);return(0,u.useEffect)(function(){return c&&window.addEventListener("keydown",g),function(){c&&window.removeEventListener("keydown",g)}},[c,x,g]),(0,r.jsx)(p,{context:w,items:a,setItems:f,children:(0,r.jsx)(v.i.Provider,{value:{isOpen:c,setIsOpen:s,SelectorMenuButtonRef:n,focusedIndex:m,setFocusedIndex:h},children:(0,r.jsx)("div",{children:t})})})}i.yG&&(B.displayName="SelectorMenuList"),i.yG&&(j.displayName="SelectorMenu")},99965:function(e,t,n){"use strict";n.d(t,{i:function(){return u}});var o=n(2784),r=n(98634),u=(0,o.createContext)({isOpen:!1,setIsOpen:r.ZT,SelectorMenuButtonRef:{current:null},focusedIndex:0,setFocusedIndex:r.ZT})},39276:function(e,t,n){"use strict";n.d(t,{N:function(){return o.N}});var o=n(62615)},14095:function(e,t,n){"use strict";n.d(t,{X:function(){return h}});var o,r=n(70865),u=n(96670),i=n(52322),c=n(2784),s=n(92625),l=n(26297),a=n(30952),f=n(66383),d=["bottom","height","left","right","top","width"],p=new Map;function v(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=(0,f.Z)((0,c.useState)(e.current),2),r=n[0],u=n[1],i=(0,c.useRef)(!1),s=(0,c.useRef)(!1),l=(0,f.Z)((0,c.useState)(null),2),a=l[0],v=l[1];return(0,c.useLayoutEffect)(function(){e.current!==r&&u(e.current)},[e,r]),(0,c.useLayoutEffect)(function(){var n,u=function(){null==i||i()},i=null,c=r;return s.current||(s.current=!0,c=e.current),c&&t&&(i=(n=c,{subscribe:function(e){var t,r=p.size;return p.has(n)?null===(t=p.get(n))||void 0===t||t.observers.push(e):p.set(n,{rect:void 0,observers:[e]}),0===r&&function e(){var t=[];p.forEach(function(e,n){var o=n.getBoundingClientRect();(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d.some(function(n){return e[n]!==t[n]})})(o,e.rect)&&(e.rect=o,t.push(e))}),t.forEach(function(e){e.observers.forEach(function(t){return t(e.rect)})}),o=window.requestAnimationFrame(e)}(),{unsubscribe:function(){var t=p.get(n);t&&(t.observers=t.observers.filter(function(t){return t!==e}),0===t.observers.length&&p.delete(n),0===p.size&&cancelAnimationFrame(o))}}}}).subscribe(v).unsubscribe),u},[t,r,e]),(0,c.useLayoutEffect)(function(){r&&!i.current&&(i.current=!0,v(r.getBoundingClientRect()))},[r]),a}var m=(0,c.forwardRef)(function(e,t){var n=e.targetRef,o=e.positionCalculator,s=e.className,f=e.menuSetToRight,d=(0,l.Z)(e,["targetRef","positionCalculator","className","menuSetToRight"]),p=(0,c.useRef)(null),m=v(p),h=v(n),x=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,c.useMemo)(function(){return t.every(function(e){return null==e})?null:function(e){t.forEach(function(t){!function(e,t){if(null!=e){if((0,a.mf)(e))e(t);else try{e.current=t}catch(n){throw Error('Cannot assign value "'.concat(t,'" to ref "').concat(e,'"'))}}}(t,e)})}},[t])}(p,t),g=(0,a.dh)("p-2 z-3 pos-absolute",s);return(0,i.jsx)("div",(0,u.Z)((0,r.Z)({ref:x},d),{style:(0,r.Z)({},m?o(h,m,f):{visibility:"hidden"},d.style),className:g}))}),h=(0,c.forwardRef)(function(e,t){return(0,i.jsx)(s.h,{elementType:"dk-popover",children:(0,i.jsx)(m,(0,u.Z)((0,r.Z)({},e),{ref:t}))})})},23194:function(e,t,n){"use strict";n.d(t,{i:function(){return i}});var o=n(70865),r=n(30952);function u(e,t){var n={top:e.top-t.height<0,bottom:window.innerHeight<e.bottom+t.height,right:window.innerWidth<e.left+t.width,left:e.left+e.width-t.width<0};return{right:n.right&&!n.left,left:n.left&&!n.right,bottom:n.bottom&&!n.top,top:n.top&&!n.bottom}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,r.kK)(e)||(0,r.kK)(t)?{}:(0,o.Z)({},function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{left:u(e,t).right||n?"".concat(e.right-t.width+window.pageXOffset,"px"):"".concat(e.left+window.pageXOffset,"px")}}(e,t,n),{top:u(e,t).bottom?"".concat(e.top-t.height+window.pageYOffset,"px"):"".concat(e.top+e.height+window.pageYOffset,"px")})}},33468:function(e){e.exports={SelectorMenuItem:"styles_SelectorMenuItem__Uiv1M"}}}]);